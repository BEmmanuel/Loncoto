<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
<meta charset="UTF-8"></meta>
<title>Page Accueil pour admin</title>
</h:head>
<body>
<div align="center">
<h:form>

<h:selectOneMenu value="#{adminBean.intervenantID}" >
	<f:selectItems value="#{adminBean.intervenants}"
					var="i"
	 				itemValue="#{i.id}"
	 				itemLabel="#{i.nom}" />
	<f:ajax render="listecontent" listener="#{adminBean.filterInt}" />
</h:selectOneMenu><br />


<h:selectOneMenu value="#{adminBean.materielID}" >
	<f:selectItems value="#{adminBean.materiels}"
					var="m"
	 				itemValue="#{m.id}"
	 				itemLabel="#{m.numeroSerie}" />
	<f:ajax render="listecontent" listener="#{adminBean.filterInt}" />
</h:selectOneMenu><br />

<h:selectOneMenu value="#{adminBean.clientID}" >
	<f:selectItems value="#{adminBean.clients}"
					var="c"
	 				itemValue="#{c.id}"
	 				itemLabel="#{c.nom}" />
	<f:ajax render="listecontent" listener="#{adminBean.filterInt}" />
</h:selectOneMenu><br />

<h:panelGroup id="listecontent">
<table border="1" >
	<tr>
	<th>numero unique</th>
	<th>date planification</th>
	<th>date realisation</th>
	<th>statut</th>
	<th>commentaire</th>
	<th>action</th>
	</tr>
	<ui:repeat var="i"  value="#{adminBean.interventions}">
	<tr>
		<td>#{i.numeroUnique}</td>
		<td>#{i.datePlanifie}</td>
		<td>#{i.dateRealisation}</td>
		<td>#{i.statut}</td>
		<td>#{i.commentaire}</td>
		<td>
		<h:commandButton value="editer" action="#{editBean.editIntervention}">
			<f:param name="id" value="#{i.id}" />
		</h:commandButton>
		</td>
	</tr>
	</ui:repeat>
</table>
</h:panelGroup>
<h:commandButton value="creer intervention" action="#{adminBean.createIntervention}"/>

</h:form>
</div>
</body>
</html>