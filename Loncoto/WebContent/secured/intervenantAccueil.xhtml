<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
<meta charset="UTF-8"></meta>
<title>Page Accueil pour intervenant</title>
<link href="../css/fullcalendar.css" rel="stylesheet" type="text/css"/> 
<link href="../css/fullcalendar.print.css" rel="stylesheet" type="text/css"/> 
<script src="../js/moment.js" />
<script src="../js/jquery.fullcalendar.js" />
<script src="../js/fullcalendar.min.js" />
<script type="text/javascript">
$(document).ready(function(){
	$("#planning").fullCalendar({
		header: {
			left: 'prev,next today',
			center: 'title',
			right: 'month,agendaWeek,agendaDay'
		},
		defaultDate: '2015-02-12',
		editable: true,
		eventLimit: true, // allow "more" link when too many events	
		events:[
			<ui:repeat var="i"  value="#{intervenantBean.interventions}">
			{
				title: '#{i.numeroUnique}',
				start: '#{i.datePlanifie.toString().substring(0,10)}'
				
			},
			</ui:repeat>
			{
				
			}
		    ]
	});
});
</script>
</h:head>
<body>
<div align="center">
	<h:form>
		<h:panelGroup id="listecontent">
			<table border="1" >
				<tr>
				<th>numero unique</th>
				<th>date planification</th>
				<th>date realisation</th>
				<th>statut</th>
				<th>commentaire</th>
				<th>action</th>
				</tr>
				<ui:repeat var="i"  value="#{intervenantBean.interventions}">
				<tr>
					<td>#{i.numeroUnique}</td>
					<td>#{i.datePlanifie}</td>
					<td>#{i.dateRealisation}</td>
					<td>#{i.statut}</td>
					<td>#{i.commentaire}</td>
					<td>
					<h:commandButton value="editer" action="#{editBean.editIntervention}">
						<f:param name="id" value="#{i.id}" />
					</h:commandButton>
					</td>
				</tr>
				</ui:repeat>
			</table>
		</h:panelGroup>
		
		</h:form>
</div>

<div id="planning"></div>

</body>
</html>